[General]
# Listen
http-api-web-dashboard = true
http-api = zhiqiang@0.0.0.0:6171
http-api-tls = true
# Test
test-timeout = 2
internet-test-url = http://www.apple.com/library/test/success.html
proxy-test-url = http://cp.cloudflare.com/generate_204
# DNS
hijack-dns = *:53
dns-server = 223.5.5.5, 119.29.29.29
encrypted-dns-server = h3://hk.dns.zhiqiang.*/dns-query
doh-follow-outbound-mode = false
always-real-ip = localhost.ptlogin2.qq.com, dns.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com
skip-proxy = seed-sequoia.siri.apple.com, sequoia.siri.apple.com, sequoia.apple.com
# Misc
loglevel = notify
vif-mode = v3

[Proxy]
Hong Kong 05 = ***************
ðŸ‡­ðŸ‡° HK-AHC-10X = ***********
HK WEIYI = ***********
BW Los Angeles = *********

[Proxy Group]
Nexitally = select, policy-path=https://sub.store/download/Nexitally?target=Surge, hidden=1
TAG = select, policy-path=*********, hidden=1
Mesl = select, policy-path=*********, hidden=1
UCSS = select, policy-path=*********, hidden=1
Atomlantis = select, policy-path=*********, hidden=1
Lend Cloud = select, policy-path=*********, hidden=1
shuicloud = select, policy-path=*********, hidden=1
HKC airport = select, policy-path=*********, hidden=1
FacMata = select, policy-path=*********, hidden=1
RecMata = select, policy-path=*********, hidden=1
Nice Cloud = select, policy-path=*********, hidden=1

Proxy = select, ðŸ‡­ðŸ‡° Hong Kong, ðŸ‡ºðŸ‡¸ United States, ðŸ‡¨ðŸ‡³ Taiwan, ðŸ‡¯ðŸ‡µ Japan, ðŸ‡¸ðŸ‡¬ Singapore, include-other-group=Main, policy-regex-filter=^((?!Hong Kong|HK|US|Taiwan|TW|Japan|JP|Singapore|SG).)*$
Audited = select, BW Los Angeles
Riot = select, Hong Kong 05, include-other-group="Mesl, TAG", policy-regex-filter=é¦™æ¸¯å®¶å®½|i-Cable
LOL = select, ðŸ‡­ðŸ‡° HK-AHC-10X, HK WEIYI, include-other-group=UCSS, policy-regex-filter=Hong Kong
Bilibili = select, ðŸ‡¨ðŸ‡³ Taiwan, ðŸ‡­ðŸ‡° Hong Kong, DIRECT
YouTube = select, ðŸ‡ºðŸ‡¸ United States, ðŸ‡­ðŸ‡° Hong Kong
Google = select, ðŸ‡ºðŸ‡¸ United States
Telegram = select, ðŸ‡­ðŸ‡° Hong Kong, ðŸ‡¸ðŸ‡¬ Singapore
Netflix = select, ðŸ‡¸ðŸ‡¬ Singapore, ðŸ‡¯ðŸ‡µ Japan, include-other-group=Main, policy-regex-filter=.*(TR|T[uÃ¼]rk).*
OpenAI = select, ðŸ‡ºðŸ‡¸ United States, ðŸ‡¸ðŸ‡¬ Singapore
Apple = select, ðŸ‡ºðŸ‡¸ United States, DIRECT
nikkisoft = select, ðŸ‡¨ðŸ‡³ Taiwan, ðŸ‡­ðŸ‡° Hong Kong
speedtest = select, Nexitally, TAG, Mesl, Atomlantis, shuicloud, HKC airport, FacMata, RecMata, Nice Cloud, BW Los Angeles

ðŸ‡­ðŸ‡° Hong Kong = fallback, HK-Select, HK-Auto, hidden=1, no-alert=1
ðŸ‡ºðŸ‡¸ United States = fallback, US-Select, US-Auto, hidden=1, no-alert=1
ðŸ‡¨ðŸ‡³ Taiwan = fallback, TW-Select, TW-Auto, hidden=1, no-alert=1
ðŸ‡¸ðŸ‡¬ Singapore = fallback, SG-Select, SG-Auto, hidden=1, no-alert=1
ðŸ‡¯ðŸ‡µ Japan = fallback, JP-Select, JP-Auto, hidden=1, no-alert=1
HK-Select = select, include-other-group=Main, policy-regex-filter=.*(Hong Kong|HK).*
US-Select = select, include-other-group=Main, policy-regex-filter=.*US.*
TW-Select = select, include-other-group=Main, policy-regex-filter=.*(Taiwan|TW).*
SG-Select = select, include-other-group=Main, policy-regex-filter=.*(Singapore|SG).*
JP-Select = select, include-other-group=Main, policy-regex-filter=.*(Japan|JP).*
HK-Auto = url-test, include-other-group=Main, hidden=1, no-alert=1
US-Auto = url-test, include-other-group=Main, hidden=1, no-alert=1
TW-Auto = url-test, include-other-group=Main, hidden=1, no-alert=1
SG-Auto = url-test, include-other-group=Main, hidden=1, no-alert=1
JP-Auto = url-test, include-other-group=Main, hidden=1, no-alert=1
Main = select, include-other-group="Nexitally, TAG, Mesl, Lend Cloud, FacMata", hidden=1
# Reserve = select, include-other-group="", hidden=1

[Rule]
DOMAIN,stun6.chat.bilibili.com,REJECT
DOMAIN,data.bilibili.com,REJECT
DOMAIN,dataflow.biliapi.com,REJECT
DOMAIN-SUFFIX,bytednsdoc.com,REJECT
DOMAIN,speed.cloudflare.com,speedtest
IP-CIDR,188.42.147.0/24,ðŸ‡­ðŸ‡° HK-AHC-10X,no-resolve // lol voice
RULE-SET,https://raw.githubusercontent.com/zhiqiang02/rules/master/LOL_UDP.list,LOL
DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/private.txt,DIRECT
DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/reject.txt,REJECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/BlockHttpDNS/BlockHttpDNS.list,REJECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Riot/Riot.list,Riot
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/DMM/DMM.list,ðŸ‡¯ðŸ‡µ Japan
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Niconico/Niconico.list,ðŸ‡¯ðŸ‡µ Japan
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/BiliBili/BiliBili.list,Bilibili
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,YouTube
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Netflix/Netflix.list,Netflix
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Mail/Mail.list,Hong Kong 05
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Microsoft/Microsoft.list,Microsoft
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Google/Google.list,Google
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/OpenAI/OpenAI.list,OpenAI
RULE-SET,SYSTEM,Apple
DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/icloud.txt,Apple
DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/apple.txt,Apple
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/AppleNews/AppleNews.list,Apple
DOMAIN-SUFFIX,pincong.rocks,Audited
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/VOA/VOA.list,Audited
DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/proxy.txt,Proxy
RULE-SET,LAN,DIRECT
DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/direct.txt,DIRECT
RULE-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/telegramcidr.txt,Telegram
RULE-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/cncidr.txt,DIRECT
FINAL,Proxy

[SSID Setting]
TYPE:WIRED tfo-behaviour=force-enabled

[Script]
Sub-Store Core = type=http-request,pattern=^https?:\/\/sub\.store\/((download)|api\/(preview|sync|(utils\/node-info))),script-path=https://github.com/sub-store-org/Sub-Store/releases/latest/download/sub-store-1.min.js,requires-body=true,timeout=120
Sub-Store Simple = type=http-request,pattern=^https?:\/\/sub\.store,script-path=https://github.com/sub-store-org/Sub-Store/releases/latest/download/sub-store-0.min.js,requires-body=true
Sub-Store Sync = type=cron,cronexp=0 4 * * *,timeout=120,script-path=https://github.com/sub-store-org/Sub-Store/releases/latest/download/cron-sync-artifacts.min.js
