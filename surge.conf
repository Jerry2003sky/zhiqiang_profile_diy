[General]
# Listen
http-api-web-dashboard = true
http-api = zhiqiang@0.0.0.0:6171
http-api-tls = true
# Test
test-timeout = 5
internet-test-url = http://www.apple.com/library/test/success.html
proxy-test-url = http://cp.cloudflare.com/generate_204
# DNS
hijack-dns = *:53
dns-server = 223.5.5.5, 119.29.29.29
encrypted-dns-server = h3://at-zhiqiang.hk.*************/dns-query, h3://at-zhiqiang.hk1.*********/dns-query
doh-follow-outbound-mode = false
always-real-ip = localhost.ptlogin2.qq.com, dns.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com
# Misc
skip-proxy = seed-sequoia.siri.apple.com, sequoia.siri.apple.com, sequoia.apple.com
loglevel = notify
vif-mode = v3
force-http-engine-hosts = *:80, *:443

[Proxy]
Hong Kong 05 = ss, server, port, encrypt-method=aes-128-gcm, password=pwd, udp-relay=true, tfo=true
ðŸ‡­ðŸ‡° HK-AHC-10X = server, port, username=user, ws=true, ws-path=path, ws-headers=header, vmess-aead=true, tfo=true
BW USA LA = snell, server, port, psk=psk, version=4, shadow-tls-password=pwd, shadow-tls-sni=sni, shadow-tls-version=3, tfo=true, ip-version=v4-only
RecMata = external, exec = "/Users/zhiqiang/Downloads/clash.meta-darwin-arm64", local-port = 7890

[Proxy Group]
# Proxy provider
Nexitally = select, policy-path=url, policy-regex-filter=^((?!Premium).)*$, hidden=1
TAG = select, policy-path=url, hidden=1
Mesl = select, policy-path=url, hidden=1
Atomlantis = select, policy-path=url, hidden=1
Lend Cloud = select, policy-path=url, hidden=1
shuicloud = select, policy-path=url, hidden=1
HKC airport = select, policy-path=url, hidden=1
FacMata = select, policy-path=url, hidden=1
jisucloud = select, policy-path=url, hidden=1
Nice Cloud = select, policy-path=url, hidden=1
# Policy
Proxy = select, ðŸ‡­ðŸ‡° Hong Kong, ðŸ‡ºðŸ‡¸ United States, ðŸ‡¨ðŸ‡³ Taiwan, ðŸ‡¯ðŸ‡µ Japan, ðŸ‡¸ðŸ‡¬ Singapore, include-other-group="Nexitally, TAG, Mesl", policy-regex-filter=^((?!Hong Kong|HK|US|Taiwan|TW|Japan|JP|Singapore|SG).)*$
Audited = select, BW USA LA
Riot = select, Hong Kong 05, include-other-group="Mesl, TAG", policy-regex-filter=é¦™æ¸¯å®¶å®½|i-Cable
LOL = select, Hong Kong 05, ðŸ‡­ðŸ‡° HK-AHC-10X
Bilibili = select, ðŸ‡¨ðŸ‡³ Taiwan, ðŸ‡­ðŸ‡° Hong Kong, DIRECT
YouTube = select, ðŸ‡ºðŸ‡¸ United States, ðŸ‡­ðŸ‡° Hong Kong
Google = select, ðŸ‡ºðŸ‡¸ United States
Netflix = select, include-other-group="Nexitally, TAG, Mesl", policy-regex-filter=.*(TR|T[uÃ¼]rk).*
OpenAI = select, ðŸ‡ºðŸ‡¸ United States, ðŸ‡¸ðŸ‡¬ Singapore
Apple = select, ðŸ‡ºðŸ‡¸ United States, DIRECT
speedtest = select, Nexitally, TAG, Mesl, Atomlantis, shuicloud, HKC airport, FacMata, RecMata, jisucloud, Nice Cloud
# Region
ðŸ‡­ðŸ‡° Hong Kong = fallback, HK-Select, HK-Auto, hidden=1
ðŸ‡ºðŸ‡¸ United States = fallback, US-Select, US-Auto, hidden=1
ðŸ‡¨ðŸ‡³ Taiwan = fallback, TW-Select, TW-Auto, hidden=1
ðŸ‡¸ðŸ‡¬ Singapore = fallback, SG-Select, SG-Auto, hidden=1
ðŸ‡¯ðŸ‡µ Japan = fallback, JP-Select, JP-Auto, hidden=1
HK-Select = select, include-other-group="Nexitally, TAG, Mesl", policy-regex-filter=.*(Hong Kong|HK).*
US-Select = select, include-other-group="Nexitally, TAG, Mesl", policy-regex-filter=.*US.*
TW-Select = select, include-other-group="Nexitally, TAG, Mesl", policy-regex-filter=.*(Taiwan|TW).*
SG-Select = select, include-other-group="Nexitally, TAG, Mesl", policy-regex-filter=.*(Singapore|SG).*
JP-Select = select, include-other-group="Nexitally, TAG, Mesl", policy-regex-filter=.*(Japan|JP).*
HK-Auto = url-test, include-other-group=HK-Select, hidden=1, no-alert=1
US-Auto = url-test, include-other-group=US-Select, hidden=1, no-alert=1
TW-Auto = url-test, include-other-group=TW-Select, hidden=1, no-alert=1
SG-Auto = url-test, include-other-group=SG-Select, hidden=1, no-alert=1
JP-Auto = url-test, include-other-group=JP-Select, hidden=1, no-alert=1

[Rule]
DOMAIN,speed.cloudflare.com,speedtest
RULE-SET,https://raw.githubusercontent.com/zhiqiang02/rules/master/LOL_UDP.list,LOL
DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/private.txt,DIRECT
DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/reject.txt,REJECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/BlockHttpDNS/BlockHttpDNS.list,REJECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Riot/Riot.list,Riot
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/DMM/DMM.list,ðŸ‡¯ðŸ‡µ Japan
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Niconico/Niconico.list,ðŸ‡¯ðŸ‡µ Japan
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/BiliBili/BiliBili.list,Bilibili
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,YouTube
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Netflix/Netflix.list,Netflix
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Mail/Mail.list,Hong Kong 05
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Google/Google.list,Google
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/OpenAI/OpenAI.list,OpenAI
RULE-SET,SYSTEM,Apple
DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/icloud.txt,Apple
DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/apple.txt,Apple
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/AppleNews/AppleNews.list,Apple
DOMAIN-SUFFIX,pincong.rocks,Audited
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/VOA/VOA.list,Audited
DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/proxy.txt,Proxy
# IP-CIDR,192.51.100.100/32,REJECT
DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/direct.txt,DIRECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Telegram/Telegram_Resolve.list,ðŸ‡¸ðŸ‡¬ Singapore
GEOIP,CN,DIRECT
RULE-SET,LAN,DIRECT
FINAL,Proxy
